-----BEGIN CERTIFICATE-----
Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgY29ycyA9
IHJlcXVpcmUoJ2NvcnMnKTsKcmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7CmNv
bnN0IHsgUG9vbCB9ID0gcmVxdWlyZSgncGcnKTsKY29uc3QgYmNyeXB0ID0gcmVx
dWlyZSgnYmNyeXB0anMnKTsKY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRv
a2VuJyk7CmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTsKY29uc3QgeyBy
YW5kb21VVUlEIH0gPSByZXF1aXJlKCdjcnlwdG8nKTsKY29uc3QgZnMgPSByZXF1
aXJlKCdmcycpOwpjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpOwoKY29uc3Qg
cG9vbCA9IG5ldyBQb29sKHsKICAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1Qs
CiAgICBwb3J0OiBwcm9jZXNzLmVudi5EQl9QT1JULAogICAgdXNlcjogcHJvY2Vz
cy5lbnYuREJfVVNFUiwKICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNT
V09SRCwKICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9EQVRBQkFTRSwKfSk7
Cgpwb29sLmNvbm5lY3QoKGVyciwgY2xpZW50LCByZWxlYXNlKSA9PiB7CiAgICBp
ZiAoZXJyKSB7IHJldHVybiBjb25zb2xlLmVycm9yKCdFUlJPIENSw41USUNPIEFP
IENPTkVDVEFSIENPTSBPIEJBTkNPIERFIERBRE9TOicsIGVyci5zdGFjayk7IH0K
ICAgIGNsaWVudC5xdWVyeSgnU0VMRUNUIE5PVygpJywgYXN5bmMgKGVyciwgcmVz
dWx0KSA9PiB7CiAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICByZWxlYXNl
KCk7CiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdFUlJPIENSw41U
SUNPOiBFcnJvIGFvIGV4ZWN1dGFyIHF1ZXJ5IGRlIHRlc3RlOicsIGVyci5zdGFj
ayk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ29uZXjDo28g
Y29tIG8gYmFuY28gZGUgZGFkb3MgYmVtLXN1Y2VkaWRhIScpOwoKICAgICAgICAv
LyAtLS0gSU5JQ0lBTElaQcOHw4NPIERPIFNDSEVNQSAoTk9WQVMgVEFCRUxBUykg
LS0tCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5
KGAKICAgICAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHNh
bGVzICgKICAgICAgICAgICAgICAgICAgICBpZCBVVUlEIFBSSU1BUlkgS0VZIERF
RkFVTFQgZ2VuX3JhbmRvbV91dWlkKCksCiAgICAgICAgICAgICAgICAgICAgdXNl
cl9pZCBJTlQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICAgICAgY2xpZW50X2lk
IFVVSUQsCiAgICAgICAgICAgICAgICAgICAgYW1vdW50IERFQ0lNQUwoMTAsIDIp
IE5PVCBOVUxMLAogICAgICAgICAgICAgICAgICAgIHN0YXR1cyBWQVJDSEFSKDUw
KSwKICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybSBWQVJDSEFSKDUwKSwKICAg
ICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl9pZCBWQVJDSEFSKDEwMCksCiAg
ICAgICAgICAgICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBO
T1coKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIENSRUFURSBU
QUJMRSBJRiBOT1QgRVhJU1RTIGFkc19kYXRhICgKICAgICAgICAgICAgICAgICAg
ICBpZCBVVUlEIFBSSU1BUlkgS0VZIERFRkFVTFQgZ2VuX3JhbmRvbV91dWlkKCks
CiAgICAgICAgICAgICAgICAgICAgdXNlcl9pZCBJTlQgTk9UIE5VTEwsCiAgICAg
ICAgICAgICAgICAgICAgY2FtcGFpZ25fbmFtZSBWQVJDSEFSKDI1NSksCiAgICAg
ICAgICAgICAgICAgICAgYWRzZXRfbmFtZSBWQVJDSEFSKDI1NSksCiAgICAgICAg
ICAgICAgICAgICAgYWRfbmFtZSBWQVJDSEFSKDI1NSksCiAgICAgICAgICAgICAg
ICAgICAgc3BlbmQgREVDSU1BTCgxMCwgMiksCiAgICAgICAgICAgICAgICAgICAg
aW1wcmVzc2lvbnMgSU5ULAogICAgICAgICAgICAgICAgICAgIGNsaWNrcyBJTlQs
CiAgICAgICAgICAgICAgICAgICAgbGVhZHMgSU5ULAogICAgICAgICAgICAgICAg
ICAgIGRhdGUgREFURSBERUZBVUxUIENVUlJFTlRfREFURSwKICAgICAgICAgICAg
ICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIE5PVygpCiAgICAg
ICAgICAgICAgICApOwogICAgICAgICAgICAgICAgQUxURVIgVEFCTEUgY2xpZW50
cyBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgdXRtcyBKU09OQiBERUZBVUxUICd7
fSc7CiAgICAgICAgICAgIGApOwogICAgICAgICAgICBjb25zb2xlLmxvZygn4pyF
IFNjaGVtYSBkbyBiYW5jbyBkZSBkYWRvcyBhdHVhbGl6YWRvIChTYWxlcywgQWRz
LCBVVE1zKS4nKTsKICAgICAgICB9IGNhdGNoIChzY2hlbWFFcnIpIHsKICAgICAg
ICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBhdHVhbGl6YXIgc2NoZW1hOics
IHNjaGVtYUVycik7CiAgICAgICAgfQogICAgICAgIHJlbGVhc2UoKTsKICAgIH0p
Owp9KTsKCmNvbnN0IGFwcCA9IGV4cHJlc3MoKTsKY29uc3QgUE9SVCA9IHByb2Nl
c3MuZW52LlBPUlQgfHwgNTAwMDsKYXBwLnVzZShjb3JzKCkpOwphcHAudXNlKGV4
cHJlc3MuanNvbih7IGxpbWl0OiAnMTBtYicgfSkpOwoKY29uc3QgdmVyaWZ5VG9r
ZW4gPSAocmVxLCByZXMsIG5leHQpID0+IHsKICAgIGNvbnN0IGF1dGhIZWFkZXIg
PSByZXEuaGVhZGVyc1snYXV0aG9yaXphdGlvbiddOwogICAgY29uc3QgdG9rZW4g
PSBhdXRoSGVhZGVyICYmIGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXTsKICAgIGlm
ICghdG9rZW4pIHsgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6
ICdBY2Vzc28gbmVnYWRvLiBOZW5odW0gdG9rZW4gZm9ybmVjaWRvLicgfSk7IH0K
ICAgIHRyeSB7CiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9r
ZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpOwogICAgICAgIHJlcS51c2VyID0g
ZGVjb2RlZDsKICAgICAgICBuZXh0KCk7CiAgICB9IGNhdGNoIChlcnJvcikgeyBy
ZXMuc3RhdHVzKDQwMykuanNvbih7IGVycm9yOiAnVG9rZW4gaW52w6FsaWRvLicg
fSk7IH0KfTsKCi8vIC0tLSBST1RBUyBERSBBVVRFTlRJQ0HDh8ODTyAtLS0KYXBw
LnBvc3QoJy9hcGkvcmVnaXN0ZXInLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAg
IGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTsKICAgIGlmICgh
ZW1haWwgfHwgIXBhc3N3b3JkKSB7CiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMo
NDAwKS5qc29uKHsgZXJyb3I6ICdFbWFpbCBlIHNlbmhhIHPDo28gb2JyaWdhdMOz
cmlvcy4nIH0pOwogICAgfQogICAgdHJ5IHsKICAgICAgICBjb25zdCBzYWx0ID0g
YXdhaXQgYmNyeXB0LmdlblNhbHQoMTApOwogICAgICAgIGNvbnN0IHBhc3N3b3Jk
X2hhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCk7CiAgICAg
ICAgY29uc3QgcXVlcnkgPSAnSU5TRVJUIElOVE8gdXNlcnMgKGVtYWlsLCBwYXNz
d29yZF9oYXNoKSBWQUxVRVMgKCQxLCAkMikgUkVUVVJOSU5HIGlkLCBlbWFpbCwg
Y3JlYXRlZF9hdCc7CiAgICAgICAgY29uc3QgdmFsdWVzID0gW2VtYWlsLCBwYXNz
d29yZF9oYXNoXTsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnF1
ZXJ5KHF1ZXJ5LCB2YWx1ZXMpOwogICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29u
KHJlc3VsdC5yb3dzWzBdKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAg
Y29uc29sZS5lcnJvcignRXJybyBhbyByZWdpc3RyYXIgdXN1w6FyaW86JywgZXJy
b3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJv
IGludGVybm8gYW8gcmVnaXN0cmFyIHVzdcOhcmlvLiBPIGVtYWlsIGrDoSBwb2Rl
IGV4aXN0aXIuJyB9KTsKICAgIH0KfSk7CgphcHAucG9zdCgnL2FwaS9sb2dpbics
IGFzeW5jIChyZXEsIHJlcykgPT4gewogICAgY29uc3QgeyBlbWFpbCwgcGFzc3dv
cmQgfSA9IHJlcS5ib2R5OwogICAgY29uc3QgbG9nRmlsZSA9IHBhdGguam9pbihf
X2Rpcm5hbWUsICdkZWJ1Z19sb2dpbi5sb2cnKTsKCiAgICBjb25zdCBsb2cgPSAo
bXNnKSA9PiB7CiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50
b0lTT1N0cmluZygpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZzLmFwcGVu
ZEZpbGVTeW5jKGxvZ0ZpbGUsIGBbJHt0aW1lc3RhbXB9XSAke21zZ31cbmApOwog
ICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign
RXJyb3Igd3JpdGluZyB0byBsb2cgZmlsZTonLCBlKTsKICAgICAgICB9CiAgICB9
OwoKICAgIGxvZyhgTG9naW4gYXR0ZW1wdCBmb3I6ICR7ZW1haWx9YCk7CgogICAg
aWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHsKICAgICAgICBsb2coJ01pc3Npbmcg
ZW1haWwgb3IgcGFzc3dvcmQnKTsKICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0
MDApLmpzb24oeyBlcnJvcjogJ0VtYWlsIGUgc2VuaGEgc8OjbyBvYnJpZ2F0w7Ny
aW9zLicgfSk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgICBsb2coJ1F1ZXJ5aW5n
IGRhdGFiYXNlIGZvciB1c2VyLi4uJyk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0g
YXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFp
bCA9ICQxJywgW2VtYWlsXSk7CiAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC5y
b3dzWzBdOwoKICAgICAgICBpZiAoIXVzZXIpIHsKICAgICAgICAgICAgbG9nKCdV
c2VyIG5vdCBmb3VuZCBpbiBkYXRhYmFzZScpOwogICAgICAgICAgICByZXR1cm4g
cmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ0NyZWRlbmNpYWlzIGludsOh
bGlkYXMuJyB9KTsKICAgICAgICB9CgogICAgICAgIGxvZyhgVXNlciBmb3VuZDog
JHt1c2VyLmlkfS4gSGFzaCBsZW5ndGg6ICR7dXNlci5wYXNzd29yZF9oYXNoID8g
dXNlci5wYXNzd29yZF9oYXNoLmxlbmd0aCA6ICdudWxsJ31gKTsKCiAgICAgICAg
bG9nKCdDb21wYXJpbmcgcGFzc3dvcmQgd2l0aCBiY3J5cHQuLi4nKTsKICAgICAg
ICBjb25zdCBpc01hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQs
IHVzZXIucGFzc3dvcmRfaGFzaCk7CgogICAgICAgIGlmICghaXNNYXRjaCkgewog
ICAgICAgICAgICBsb2coJ1Bhc3N3b3JkIG1pc21hdGNoJyk7CiAgICAgICAgICAg
IHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnQ3JlZGVuY2lh
aXMgaW52w6FsaWRhcy4nIH0pOwogICAgICAgIH0KCiAgICAgICAgbG9nKCdQYXNz
d29yZCBtYXRjaGVkLiBTaWduaW5nIEpXVC4uLicpOwogICAgICAgIGlmICghcHJv
Y2Vzcy5lbnYuSldUX1NFQ1JFVCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJy
b3IoJ0pXVF9TRUNSRVQgaXMgbm90IGRlZmluZWQgaW4gZW52aXJvbm1lbnQgdmFy
aWFibGVzJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5z
aWduKAogICAgICAgICAgICB7IHVzZXJJZDogdXNlci5pZCwgZW1haWw6IHVzZXIu
ZW1haWwgfSwKICAgICAgICAgICAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwKICAg
ICAgICAgICAgeyBleHBpcmVzSW46ICc3ZCcgfQogICAgICAgICk7CgogICAgICAg
IGxvZygnTG9naW4gc3VjY2Vzc2Z1bC4gU2VuZGluZyByZXNwb25zZS4nKTsKICAg
ICAgICByZXMuanNvbih7CiAgICAgICAgICAgIG1lc3NhZ2U6ICJMb2dpbiBiZW0t
c3VjZWRpZG8hIiwKICAgICAgICAgICAgdG9rZW4sCiAgICAgICAgICAgIHVzZXI6
IHsgaWQ6IHVzZXIuaWQsIGVtYWlsOiB1c2VyLmVtYWlsIH0KICAgICAgICB9KTsK
ICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBl
cnJvci5zdGFjayB8fCBlcnJvci50b1N0cmluZygpOwogICAgICAgIGxvZyhgQ1JJ
VElDQUwgRVJST1IgaW4gbG9naW46ICR7ZXJyb3JNc2d9YCk7CiAgICAgICAgY29u
c29sZS5lcnJvcignRXJybyBubyBsb2dpbjonLCBlcnJvcik7CiAgICAgICAgcmVz
LnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm8gaW50ZXJubyBubyBzZXJ2
aWRvci4nLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0pOyAvLyBTZW5kaW5nIGRl
dGFpbHMgdGVtcG9yYXJpbHkgZm9yIGRlYnVnCiAgICB9Cn0pOwoKYXBwLmdldCgn
L2FwaS9hdXRoL3Byb2ZpbGUnLCB2ZXJpZnlUb2tlbiwgYXN5bmMgKHJlcSwgcmVz
KSA9PiB7CiAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBv
b2wucXVlcnkoJ1NFTEVDVCBpZCwgZW1haWwsIGNyZWF0ZWRfYXQgRlJPTSB1c2Vy
cyBXSEVSRSBpZCA9ICQxJywgW3JlcS51c2VyLnVzZXJJZF0pOwogICAgICAgIGNv
bnN0IHVzZXIgPSByZXN1bHQucm93c1swXTsKICAgICAgICBpZiAoIXVzZXIpIHsK
ICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6
ICdVc3XDoXJpbyBuw6NvIGVuY29udHJhZG8uJyB9KTsKICAgICAgICB9CiAgICAg
ICAgcmVzLmpzb24odXNlcik7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAg
IGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVzY2FyIHBlcmZpbDonLCBlcnJvcik7
CiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm8gaW50
ZXJubyBubyBzZXJ2aWRvci4nIH0pOwogICAgfQp9KTsKCi8vIC0tLSBST1RBUyBE
RSBEQVNIQk9BUkQgJiBST0kgLS0tCmFwcC5nZXQoJy9hcGkvZGFzaGJvYXJkL3Jv
aScsIHZlcmlmeVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAgIHRyeSB7
CiAgICAgICAgLy8gTW9jayBkZSBkYWRvcyBkZSBBZHMgKGVucXVhbnRvIG7Do28g
aW50ZWdyYSBjb20gQVBJIGRvIEZhY2Vib29rKQogICAgICAgIC8vIEVtIHByb2R1
w6fDo28sIGlzc28gdmlyaWEgZGEgdGFiZWxhIGFkc19kYXRhCiAgICAgICAgY29u
c3QgYWRzTW9jayA9IHsKICAgICAgICAgICAgc3BlbmRfdG9kYXk6IDE1MC4wMCwK
ICAgICAgICAgICAgc3BlbmRfbGFzdF83X2RheXM6IDEyMDAuMDAsCiAgICAgICAg
ICAgIGNhbXBhaWduczogWwogICAgICAgICAgICAgICAgeyBpZDogMSwgbmFtZTog
J0NhbXBhbmhhIFZlbmRhcyAtIEZyaW8nLCBzcGVuZDogODAuMDAsIGxlYWRzOiAx
MiwgY2xpY2tzOiAxNTAgfSwKICAgICAgICAgICAgICAgIHsgaWQ6IDIsIG5hbWU6
ICdSZW1hcmtldGluZyAtIENoZWNrb3V0Jywgc3BlbmQ6IDcwLjAwLCBsZWFkczog
NSwgY2xpY2tzOiA0MCB9CiAgICAgICAgICAgIF0KICAgICAgICB9OwoKICAgICAg
ICAvLyBEYWRvcyBSZWFpcyBkZSBWZW5kYXMKICAgICAgICBjb25zdCBzYWxlc1F1
ZXJ5ID0gYAogICAgICAgICAgICBTRUxFQ1QgCiAgICAgICAgICAgICAgICBDT0FM
RVNDRShTVU0oYW1vdW50KSwgMCkgYXMgdG90YWxfc2FsZXNfdG9kYXksCiAgICAg
ICAgICAgICAgICBDT1VOVCgqKSBhcyBzYWxlc19jb3VudF90b2RheQogICAgICAg
ICAgICBGUk9NIHNhbGVzIAogICAgICAgICAgICBXSEVSRSB1c2VyX2lkID0gJDEg
QU5EIGNyZWF0ZWRfYXQ6OmRhdGUgPSBDVVJSRU5UX0RBVEUgQU5EIHN0YXR1cyA9
ICdhcHByb3ZlZCcKICAgICAgICBgOwogICAgICAgIGNvbnN0IHNhbGVzUmVzdWx0
ID0gYXdhaXQgcG9vbC5xdWVyeShzYWxlc1F1ZXJ5LCBbcmVxLnVzZXIudXNlcklk
XSk7CiAgICAgICAgY29uc3Qgc2FsZXNEYXRhID0gc2FsZXNSZXN1bHQucm93c1sw
XTsKCiAgICAgICAgLy8gRGFkb3MgUmVhaXMgZGUgTGVhZHMKICAgICAgICBjb25z
dCBsZWFkc1F1ZXJ5ID0gYAogICAgICAgICAgICBTRUxFQ1QgQ09VTlQoKikgYXMg
bGVhZHNfdG9kYXkgCiAgICAgICAgICAgIEZST00gY2xpZW50cyAKICAgICAgICAg
ICAgV0hFUkUgdXNlcl9pZCA9ICQxIEFORCBjcmVhdGVkX2F0OjpkYXRlID0gQ1VS
UkVOVF9EQVRFCiAgICAgICAgYDsKICAgICAgICBjb25zdCBsZWFkc1Jlc3VsdCA9
IGF3YWl0IHBvb2wucXVlcnkobGVhZHNRdWVyeSwgW3JlcS51c2VyLnVzZXJJZF0p
OwogICAgICAgIGNvbnN0IGxlYWRzRGF0YSA9IGxlYWRzUmVzdWx0LnJvd3NbMF07
CgogICAgICAgIC8vIEPDoWxjdWxvIGRlIFJPQVMKICAgICAgICBjb25zdCByZXZl
bnVlID0gcGFyc2VGbG9hdChzYWxlc0RhdGEudG90YWxfc2FsZXNfdG9kYXkpOwog
ICAgICAgIGNvbnN0IHNwZW5kID0gYWRzTW9jay5zcGVuZF90b2RheTsKICAgICAg
ICBjb25zdCByb2FzID0gc3BlbmQgPiAwID8gKHJldmVudWUgLyBzcGVuZCkudG9G
aXhlZCgyKSA6IDA7CgogICAgICAgIHJlcy5qc29uKHsKICAgICAgICAgICAgc2Fs
ZXNfdG9kYXk6IHJldmVudWUsCiAgICAgICAgICAgIHNwZW5kX3RvZGF5OiBzcGVu
ZCwKICAgICAgICAgICAgcm9hczogcm9hcywKICAgICAgICAgICAgbGVhZHNfdG9k
YXk6IHBhcnNlSW50KGxlYWRzRGF0YS5sZWFkc190b2RheSksCiAgICAgICAgICAg
IGFkc19kYXRhOiBhZHNNb2NrCiAgICAgICAgfSk7CiAgICB9IGNhdGNoIChlcnJv
cikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVzY2FyIGRhZG9z
IGRvIGRhc2hib2FyZDonLCBlcnJvcik7CiAgICAgICAgcmVzLnN0YXR1cyg1MDAp
Lmpzb24oeyBlcnJvcjogJ0Vycm8gaW50ZXJubyBubyBzZXJ2aWRvci4nIH0pOwog
ICAgfQp9KTsKCi8vIC0tLSBST1RBUyBERSBUUsOBRkVHTyAoQURTKSAtLS0KYXBw
LmdldCgnL2FwaS9hZHMnLCB2ZXJpZnlUb2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9
PiB7CiAgICB0cnkgewogICAgICAgIC8vIE1vY2sgRGF0YSBwYXJhIGEgdGFiZWxh
IGRlIHRyw6FmZWdvCiAgICAgICAgY29uc3QgbW9ja0Fkc0RhdGEgPSBbCiAgICAg
ICAgICAgIHsgaWQ6IDEsIGNhbXBhaWduOiAnTGFuw6dhbWVudG8gQWdvc3RvIC0g
RnJpbycsIGFkc2V0OiAnSW50ZXJlc3NlcyBNYXJrZXRpbmcnLCBhZDogJ1bDrWRl
byAwMSAtIENoYW1hZGEnLCBzdGF0dXM6ICdhY3RpdmUnLCBzcGVuZDogNDUwLjUw
LCBjdHI6IDIuMSwgY3BjOiAxLjUwLCBsZWFkczogNDUsIGNvc3RfcGVyX2xlYWQ6
IDEwLjAwIH0sCiAgICAgICAgICAgIHsgaWQ6IDIsIGNhbXBhaWduOiAnTGFuw6dh
bWVudG8gQWdvc3RvIC0gRnJpbycsIGFkc2V0OiAnTG9va2FsaWtlIDElJywgYWQ6
ICdJbWFnZW0gRXN0w6F0aWNhIC0gUHJvdmEgU29jaWFsJywgc3RhdHVzOiAnYWN0
aXZlJywgc3BlbmQ6IDMyMC4wMCwgY3RyOiAxLjgsIGNwYzogMi4xMCwgbGVhZHM6
IDIwLCBjb3N0X3Blcl9sZWFkOiAxNi4wMCB9LAogICAgICAgICAgICB7IGlkOiAz
LCBjYW1wYWlnbjogJ1JlbWFya2V0aW5nIC0gQm9sZXRvJywgYWRzZXQ6ICdCb2xl
dG9zIDcgZGlhcycsIGFkOiAnTGVtYnJldGUgVmVuY2ltZW50bycsIHN0YXR1czog
J3BhdXNlZCcsIHNwZW5kOiAxMDAuMDAsIGN0cjogMy41LCBjcGM6IDAuODAsIGxl
YWRzOiAxNSwgY29zdF9wZXJfbGVhZDogNi42NiB9LAogICAgICAgIF07CiAgICAg
ICAgcmVzLmpzb24obW9ja0Fkc0RhdGEpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsK
ICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGJ1c2NhciBkYWRvcyBkZSBh
ZHM6JywgZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJy
b3I6ICdFcnJvIGludGVybm8gbm8gc2Vydmlkb3IuJyB9KTsKICAgIH0KfSk7Cgov
LyAtLS0gV0VCSE9PS1MgREUgVkVOREFTIChIb3RtYXJ0L0tpd2lmeS9ldGMpIC0t
LQphcHAucG9zdCgnL2FwaS93ZWJob29rcy9zYWxlcycsIGFzeW5jIChyZXEsIHJl
cykgPT4gewogICAgLy8gRXhlbXBsbyBnZW7DqXJpY28uIE5hIHByw6F0aWNhLCBh
ZGFwdGFyIHBhcmEgbyBwYXlsb2FkIGRlIGNhZGEgcGxhdGFmb3JtYS4KICAgIGNv
bnN0IHsgdHJhbnNhY3Rpb25faWQsIHN0YXR1cywgYW1vdW50LCBlbWFpbCwgcHJv
ZHVjdF9uYW1lLCB1dG1fc291cmNlLCB1dG1fbWVkaXVtLCB1dG1fY2FtcGFpZ24g
fSA9IHJlcS5ib2R5OwoKICAgIC8vIFRlbnRhIGlkZW50aWZpY2FyIG8gdXN1w6Fy
aW8gZG9ubyBkbyBwcm9kdXRvIChzaW1wbGlmaWNhZG86IHBlZ2FuZG8gbyBwcmlt
ZWlybyB1c2VyIG91IHZpYSB0b2tlbiBuYSBVUkwgc2UgaW1wbGVtZW50YWRvKQog
ICAgLy8gUGFyYSBNVlAsIHZhbW9zIGFzc3VtaXIgcXVlIG8gd2ViaG9vayBtYW5k
YSB1bSAiY3VzdG9tX2ZpZWxkIiBjb20gbyB1c2VyX2lkIG91IHF1ZSBzw7MgdGVt
IDEgdXN1w6FyaW8gbm8gc2lzdGVtYSBsb2NhbC4KICAgIC8vIFZhbW9zIHVzYXIg
dW0gdXNlcl9pZCBmaXhvIG91IGJ1c2NhciBwZWxvIGVtYWlsIGRvIHByb2R1dG9y
IHNlIHZpZXIgbm8gcGF5bG9hZC4KICAgIC8vIEFRVUk6IFZhbW9zIHBlZ2FyIG8g
cHJpbWVpcm8gdXN1w6FyaW8gZG8gYmFuY28gcGFyYSB0ZXN0ZSwgb3UgZXNwZXJh
ciB1bSBwYXJhbWV0cm8gP3VzZXJfaWQ9WCBuYSBVUkwgZG8gd2ViaG9vawogICAg
Y29uc3QgdXNlcklkID0gcmVxLnF1ZXJ5LnVzZXJfaWQ7CgogICAgaWYgKCF1c2Vy
SWQpIHsKICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJv
cjogJ1VzZXIgSUQgbsOjbyBmb3JuZWNpZG8gbmEgVVJMIGRvIHdlYmhvb2sgKD91
c2VyX2lkPS4uLiknIH0pOwogICAgfQoKICAgIHRyeSB7CiAgICAgICAgLy8gMS4g
UmVnaXN0cmFyIFZlbmRhCiAgICAgICAgY29uc3QgaW5zZXJ0U2FsZSA9IGAKICAg
ICAgICAgICAgSU5TRVJUIElOVE8gc2FsZXMgKHVzZXJfaWQsIGFtb3VudCwgc3Rh
dHVzLCBwbGF0Zm9ybSwgdHJhbnNhY3Rpb25faWQpCiAgICAgICAgICAgIFZBTFVF
UyAoJDEsICQyLCAkMywgJ2dlbmVyaWMnLCAkNCkKICAgICAgICAgICAgUkVUVVJO
SU5HIGlkCiAgICAgICAgYDsKICAgICAgICBhd2FpdCBwb29sLnF1ZXJ5KGluc2Vy
dFNhbGUsIFt1c2VySWQsIGFtb3VudCB8fCAwLCBzdGF0dXMgfHwgJ3BlbmRpbmcn
LCB0cmFuc2FjdGlvbl9pZF0pOwoKICAgICAgICAvLyAyLiBBdHVhbGl6YXIgb3Ug
Q3JpYXIgQ2xpZW50ZSAoTGVhZCkKICAgICAgICBpZiAoZW1haWwpIHsKICAgICAg
ICAgICAgY29uc3QgY2hlY2tDbGllbnQgPSAnU0VMRUNUIGlkIEZST00gY2xpZW50
cyBXSEVSRSBlbWFpbCA9ICQxIEFORCB1c2VyX2lkID0gJDInOwogICAgICAgICAg
ICBjb25zdCBjbGllbnRSZXMgPSBhd2FpdCBwb29sLnF1ZXJ5KGNoZWNrQ2xpZW50
LCBbZW1haWwsIHVzZXJJZF0pOwoKICAgICAgICAgICAgaWYgKGNsaWVudFJlcy5y
b3dDb3VudCA+IDApIHsKICAgICAgICAgICAgICAgIC8vIEF0dWFsaXphIHN0YXR1
cyBwYXJhIEFsdW5vIHNlIGFwcm92YWRvCiAgICAgICAgICAgICAgICBpZiAoc3Rh
dHVzID09PSAnYXBwcm92ZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQg
cG9vbC5xdWVyeSgiVVBEQVRFIGNsaWVudHMgU0VUIGthbmJhbl9zdGFnZSA9ICdz
dHVkZW50Jywgc3RhdHVzID0gJ0FjdGl2ZScgV0hFUkUgZW1haWwgPSAkMSBBTkQg
dXNlcl9pZCA9ICQyIiwgW2VtYWlsLCB1c2VySWRdKTsKICAgICAgICAgICAgICAg
IH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIENyaWEg
bm92byBjbGllbnRlCiAgICAgICAgICAgICAgICBjb25zdCBpbnNlcnRDbGllbnQg
PSBgCiAgICAgICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gY2xpZW50cyAobmFt
ZSwgZW1haWwsIHN0YXR1cywga2FuYmFuX3N0YWdlLCB1c2VyX2lkLCB1dG1zKQog
ICAgICAgICAgICAgICAgICAgIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAk
NikKICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICBjb25zdCB1dG1z
ID0geyBzb3VyY2U6IHV0bV9zb3VyY2UsIG1lZGl1bTogdXRtX21lZGl1bSwgY2Ft
cGFpZ246IHV0bV9jYW1wYWlnbiB9OwogICAgICAgICAgICAgICAgY29uc3QgbmV3
U3RhdHVzID0gc3RhdHVzID09PSAnYXBwcm92ZWQnID8gJ0FjdGl2ZScgOiAnTGVh
ZCc7CiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFnZSA9IHN0YXR1cyA9PT0g
J2FwcHJvdmVkJyA/ICdzdHVkZW50JyA6ICduZXdfbGVhZCc7CiAgICAgICAgICAg
ICAgICBhd2FpdCBwb29sLnF1ZXJ5KGluc2VydENsaWVudCwgW2VtYWlsLnNwbGl0
KCdAJylbMF0sIGVtYWlsLCBuZXdTdGF0dXMsIG5ld1N0YWdlLCB1c2VySWQsIHV0
bXNdKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmVzLnN0YXR1
cygyMDApLmpzb24oeyBtZXNzYWdlOiAnV2ViaG9vayBwcm9jZXNzYWRvIGNvbSBz
dWNlc3NvLicgfSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNv
bGUuZXJyb3IoJ0Vycm8gYW8gcHJvY2Vzc2FyIHdlYmhvb2sgZGUgdmVuZGFzOics
IGVycm9yKTsKICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAn
RXJybyBpbnRlcm5vLicgfSk7CiAgICB9Cn0pOwoKCi8vIC0tLSBST1RBUyBERSBD
TElFTlRFUyAtLS0KYXBwLmdldCgnL2FwaS9jbGllbnRzJywgdmVyaWZ5VG9rZW4s
IGFzeW5jIChyZXEsIHJlcykgPT4gewogICAgY29uc3QgeyBzZWFyY2ggfSA9IHJl
cS5xdWVyeTsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcXVlcnkgPSBzZWFyY2gK
ICAgICAgICAgICAgPyAnU0VMRUNUICogRlJPTSBjbGllbnRzIFdIRVJFIHVzZXJf
aWQgPSAkMSBBTkQgKG5hbWUgSUxJS0UgJDIgT1IgZW1haWwgSUxJS0UgJDIpIE9S
REVSIEJZIGNyZWF0ZWRfYXQgREVTQycKICAgICAgICAgICAgOiAnU0VMRUNUICog
RlJPTSBjbGllbnRzIFdIRVJFIHVzZXJfaWQgPSAkMSBPUkRFUiBCWSBjcmVhdGVk
X2F0IERFU0MnOwogICAgICAgIGNvbnN0IHZhbHVlcyA9IHNlYXJjaCA/IFtyZXEu
dXNlci51c2VySWQsIGAlJHtzZWFyY2h9JWBdIDogW3JlcS51c2VyLnVzZXJJZF07
CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwg
dmFsdWVzKTsKICAgICAgICByZXMuanNvbihyZXN1bHQucm93cyk7CiAgICB9IGNh
dGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVz
Y2FyIGNsaWVudGVzOicsIGVycm9yKTsKICAgICAgICByZXMuc3RhdHVzKDUwMCku
anNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIG5vIHNlcnZpZG9yLicgfSk7CiAg
ICB9Cn0pOwoKYXBwLnBvc3QoJy9hcGkvY2xpZW50cycsIHZlcmlmeVRva2VuLCBh
c3luYyAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBo
b25lLCB2YWx1ZSwgc3RhdHVzLCBzZWdtZW50LCBrYW5iYW5fc3RhZ2UsIHRlbXBl
cmF0dXJlIH0gPSByZXEuYm9keTsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcXVl
cnkgPSBgCiAgICAgICAgICAgIElOU0VSVCBJTlRPIGNsaWVudHMgCiAgICAgICAg
ICAgIChuYW1lLCBlbWFpbCwgcGhvbmUsIHZhbHVlLCBzdGF0dXMsIHNlZ21lbnQs
IGthbmJhbl9zdGFnZSwgdGVtcGVyYXR1cmUsIHVzZXJfaWQsIHV0bXMpIAogICAg
ICAgICAgICBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3LCAkOCwg
JDksICQxMCkgCiAgICAgICAgICAgIFJFVFVSTklORyAqYDsKICAgICAgICBjb25z
dCB2YWx1ZXMgPSBbCiAgICAgICAgICAgIG5hbWUsIGVtYWlsIHx8IG51bGwsIHBo
b25lIHx8IG51bGwsIHZhbHVlIHx8IDAsCiAgICAgICAgICAgIHN0YXR1cyB8fCAn
TGVhZCcsIHNlZ21lbnQgfHwgbnVsbCwga2FuYmFuX3N0YWdlIHx8ICduZXdfbGVh
ZCcsCiAgICAgICAgICAgIHRlbXBlcmF0dXJlIHx8ICdjb2xkJywgcmVxLnVzZXIu
dXNlcklkLCByZXEuYm9keS51dG1zIHx8IHt9CiAgICAgICAgXTsKICAgICAgICBj
b25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpOwog
ICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHJlc3VsdC5yb3dzWzBdKTsKICAg
IH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBh
byBjcmlhciBjbGllbnRlOicsIGVycm9yKTsKICAgICAgICByZXMuc3RhdHVzKDUw
MCkuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIGFvIGNyaWFyIGNsaWVudGUu
JyB9KTsKICAgIH0KfSk7CgphcHAucHV0KCcvYXBpL2NsaWVudHMvOmlkJywgdmVy
aWZ5VG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4gewogICAgY29uc3QgeyBpZCB9
ID0gcmVxLnBhcmFtczsKICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBob25lLCB2
YWx1ZSwgc3RhdHVzLCBzZWdtZW50LCBrYW5iYW5fc3RhZ2UsIHRlbXBlcmF0dXJl
IH0gPSByZXEuYm9keTsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcXVlcnkgPSBg
CiAgICAgICAgICAgIFVQREFURSBjbGllbnRzIAogICAgICAgICAgICBTRVQgbmFt
ZSA9ICQxLCBlbWFpbCA9ICQyLCBwaG9uZSA9ICQzLCB2YWx1ZSA9ICQ0LCBzdGF0
dXMgPSAkNSwgc2VnbWVudCA9ICQ2LCBrYW5iYW5fc3RhZ2UgPSAkNywgdGVtcGVy
YXR1cmUgPSAkOAogICAgICAgICAgICBXSEVSRSBpZCA9ICQ5IEFORCB1c2VyX2lk
ID0gJDEwIFJFVFVSTklORyAqYDsKICAgICAgICBjb25zdCB2YWx1ZXMgPSBbbmFt
ZSwgZW1haWwsIHBob25lLCB2YWx1ZSwgc3RhdHVzLCBzZWdtZW50LCBrYW5iYW5f
c3RhZ2UsIHRlbXBlcmF0dXJlLCBpZCwgcmVxLnVzZXIudXNlcklkXTsKICAgICAg
ICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMp
OwogICAgICAgIGlmIChyZXN1bHQucm93Q291bnQgPT09IDApIHsKICAgICAgICAg
ICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDbGllbnRl
IG7Do28gZW5jb250cmFkbyBvdSBuw6NvIHBlcnRlbmNlIGEgdm9jw6ouJyB9KTsK
ICAgICAgICB9CiAgICAgICAgcmVzLmpzb24ocmVzdWx0LnJvd3NbMF0pOwogICAg
fSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFv
IGF0dWFsaXphciBjbGllbnRlOicsIGVycm9yKTsKICAgICAgICByZXMuc3RhdHVz
KDUwMCkuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIGFvIGF0dWFsaXphciBj
bGllbnRlLicgfSk7CiAgICB9Cn0pOwoKYXBwLmRlbGV0ZSgnL2FwaS9jbGllbnRz
LzppZCcsIHZlcmlmeVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAgIGNv
bnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7CiAgICB0cnkgewogICAgICAgIGNvbnN0
IHJlc3VsdCA9IGF3YWl0IHBvb2wucXVlcnkoJ0RFTEVURSBGUk9NIGNsaWVudHMg
V0hFUkUgaWQgPSAkMSBBTkQgdXNlcl9pZCA9ICQyJywgW2lkLCByZXEudXNlci51
c2VySWRdKTsKICAgICAgICBpZiAocmVzdWx0LnJvd0NvdW50ID09PSAwKSB7CiAg
ICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAn
Q2xpZW50ZSBuw6NvIGVuY29udHJhZG8gb3UgbsOjbyBhdXRvcml6YWRvLicgfSk7
CiAgICAgICAgfQogICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2Fn
ZTogJ0NsaWVudGUgZGVsZXRhZG8gY29tIHN1Y2Vzc28uJyB9KTsKICAgIH0gY2F0
Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBkZWxl
dGFyIGNsaWVudGU6JywgZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5q
c29uKHsgZXJyb3I6ICdFcnJvIGludGVybm8gbm8gc2Vydmlkb3IuJyB9KTsKICAg
IH0KfSk7CgphcHAucG9zdCgnL2FwaS9jbGllbnRzL2ltcG9ydCcsIHZlcmlmeVRv
a2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IHsgY2xpZW50cyB9
ID0gcmVxLmJvZHk7CiAgICBpZiAoIWNsaWVudHMgfHwgIUFycmF5LmlzQXJyYXko
Y2xpZW50cykgfHwgY2xpZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1
cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ05lbmh1bSBjbGllbnRl
IHBhcmEgaW1wb3J0YXIuJyB9KTsKICAgIH0KICAgIGxldCBjbGllbnRzQWRkZWQg
PSAwOwogICAgbGV0IGNsaWVudHNTa2lwcGVkID0gMDsKICAgIGNvbnN0IGRiQ2xp
ZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCk7CiAgICB0cnkgewogICAgICAgIGF3
YWl0IGRiQ2xpZW50LnF1ZXJ5KCdCRUdJTicpOwogICAgICAgIGZvciAoY29uc3Qg
YyBvZiBjbGllbnRzKSB7CiAgICAgICAgICAgIGlmICghYy5lbWFpbCB8fCBjLmVt
YWlsLnRyaW0oKSA9PT0gJycpIHsKICAgICAgICAgICAgICAgIGNsaWVudHNTa2lw
cGVkKys7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQog
ICAgICAgICAgICBjb25zdCBjaGVja1F1ZXJ5ID0gJ1NFTEVDVCBpZCBGUk9NIGNs
aWVudHMgV0hFUkUgZW1haWwgPSAkMSBBTkQgdXNlcl9pZCA9ICQyJzsKICAgICAg
ICAgICAgY29uc3QgY2hlY2tSZXN1bHQgPSBhd2FpdCBkYkNsaWVudC5xdWVyeShj
aGVja1F1ZXJ5LCBbYy5lbWFpbCwgcmVxLnVzZXIudXNlcklkXSk7CiAgICAgICAg
ICAgIGlmIChjaGVja1Jlc3VsdC5yb3dDb3VudCA+IDApIHsKICAgICAgICAgICAg
ICAgIGNsaWVudHNTa2lwcGVkKys7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAg
ICAgICAgICAgICBjb25zdCBpbnNlcnRRdWVyeSA9ICdJTlNFUlQgSU5UTyBjbGll
bnRzIChuYW1lLCBlbWFpbCwgcGhvbmUsIHBsYXRmb3JtLCBzdGF0dXMsIHZhbHVl
LCBrYW5iYW5fc3RhZ2UsIHRlbXBlcmF0dXJlLCB1c2VyX2lkKSBWQUxVRVMgKCQx
LCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3LCAkOCwgJDkpJzsKICAgICAgICAgICAg
ICAgIGNvbnN0IHZhbHVlcyA9IFtjLm5hbWUsIGMuZW1haWwsIGMucGhvbmUsIGMu
cGxhdGZvcm0sIGMuc3RhdHVzLCBjLnZhbHVlLCBjLmthbmJhbl9zdGFnZSwgYy50
ZW1wZXJhdHVyZSwgcmVxLnVzZXIudXNlcklkXTsKICAgICAgICAgICAgICAgIGF3
YWl0IGRiQ2xpZW50LnF1ZXJ5KGluc2VydFF1ZXJ5LCB2YWx1ZXMpOwogICAgICAg
ICAgICAgICAgY2xpZW50c0FkZGVkKys7CiAgICAgICAgICAgIH0KICAgICAgICB9
CiAgICAgICAgYXdhaXQgZGJDbGllbnQucXVlcnkoJ0NPTU1JVCcpOwogICAgICAg
IHJlcy5zdGF0dXMoMjAxKS5qc29uKHsKICAgICAgICAgICAgbWVzc2FnZTogYElt
cG9ydGHDp8OjbyBjb25jbHXDrWRhISAke2NsaWVudHNBZGRlZH0gY2xpZW50ZXMg
YWRpY2lvbmFkb3MsICR7Y2xpZW50c1NraXBwZWR9IGlnbm9yYWRvcyAoasOhIGV4
aXN0aWFtIG91IHNlbSBlbWFpbCkuYAogICAgICAgIH0pOwogICAgfSBjYXRjaCAo
ZXJyb3IpIHsKICAgICAgICBhd2FpdCBkYkNsaWVudC5xdWVyeSgnUk9MTEJBQ0sn
KTsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGltcG9ydGFyIGNsaWVu
dGVzOicsIGVycm9yKTsKICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVy
cm9yOiAnRXJybyBpbnRlcm5vIGFvIGltcG9ydGFyIGNsaWVudGVzLicgfSk7CiAg
ICB9IGZpbmFsbHkgewogICAgICAgIGRiQ2xpZW50LnJlbGVhc2UoKTsKICAgIH0K
fSk7CgphcHAucGF0Y2goJy9hcGkvY2xpZW50cy86aWQvc3RhZ2UnLCB2ZXJpZnlU
b2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7CiAgICBjb25zdCB7IGlkIH0gPSBy
ZXEucGFyYW1zOwogICAgY29uc3QgeyBrYW5iYW5fc3RhZ2UgfSA9IHJlcS5ib2R5
OwogICAgaWYgKCFrYW5iYW5fc3RhZ2UpIHsKICAgICAgICByZXR1cm4gcmVzLnN0
YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0EgZXRhcGEgZG8ga2FuYmFuIMOpIG9i
cmlnYXTDs3JpYS4nIH0pOwogICAgfQogICAgdHJ5IHsKICAgICAgICBjb25zdCBx
dWVyeSA9ICdVUERBVEUgY2xpZW50cyBTRVQga2FuYmFuX3N0YWdlID0gJDEgV0hF
UkUgaWQgPSAkMiBBTkQgdXNlcl9pZCA9ICQzIFJFVFVSTklORyAqJzsKICAgICAg
ICBjb25zdCB2YWx1ZXMgPSBba2FuYmFuX3N0YWdlLCBpZCwgcmVxLnVzZXIudXNl
cklkXTsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1
ZXJ5LCB2YWx1ZXMpOwogICAgICAgIGlmIChyZXN1bHQucm93Q291bnQgPT09IDAp
IHsKICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJy
b3I6ICdDbGllbnRlIG7Do28gZW5jb250cmFkbyBvdSBuw6NvIGF1dG9yaXphZG8u
JyB9KTsKICAgICAgICB9CiAgICAgICAgcmVzLmpzb24ocmVzdWx0LnJvd3NbMF0p
OwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdF
cnJvIGFvIGF0dWFsaXphciBldGFwYSBkbyBLYW5iYW46JywgZXJyb3IpOwogICAg
ICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvIGludGVybm8g
bm8gc2Vydmlkb3IuJyB9KTsKICAgIH0KfSk7CgoKLy8gLS0tIFJPVEFTIERFIEFH
RU5EQU1FTlRPUyAoQ0FMRU5Ew4FSSU8pIC0tLQphcHAuZ2V0KCcvYXBpL2FwcG9p
bnRtZW50cycsIHZlcmlmeVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAg
IHRyeSB7CiAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUICogRlJPTSBhcHBv
aW50bWVudHMgV0hFUkUgdXNlcl9pZCA9ICQxIE9SREVSIEJZIHN0YXJ0X3RpbWUg
QVNDJzsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1
ZXJ5LCBbcmVxLnVzZXIudXNlcklkXSk7CiAgICAgICAgcmVzLmpzb24ocmVzdWx0
LnJvd3MpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVy
cm9yKCdFcnJvIGFvIGJ1c2NhciBhZ2VuZGFtZW50b3M6JywgZXJyb3IpOwogICAg
ICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvIGludGVybm8g
bm8gc2Vydmlkb3IuJyB9KTsKICAgIH0KfSk7CgphcHAucG9zdCgnL2FwaS9hcHBv
aW50bWVudHMnLCB2ZXJpZnlUb2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7CiAg
ICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgc3RhcnRfdGltZSwgZW5kX3Rp
bWUsIHN0YXR1cyB9ID0gcmVxLmJvZHk7CiAgICBpZiAoIXRpdGxlIHx8ICFzdGFy
dF90aW1lIHx8ICFlbmRfdGltZSkgewogICAgICAgIHJldHVybiByZXMuc3RhdHVz
KDQwMCkuanNvbih7IGVycm9yOiAnVMOtdHVsbywgZGF0YSBkZSBpbsOtY2lvIGUg
ZGF0YSBkZSBmaW0gc8OjbyBvYnJpZ2F0w7NyaW9zLicgfSk7CiAgICB9CiAgICB0
cnkgewogICAgICAgIGNvbnN0IHF1ZXJ5ID0gYAogICAgICAgICAgICBJTlNFUlQg
SU5UTyBhcHBvaW50bWVudHMgKHRpdGxlLCBkZXNjcmlwdGlvbiwgc3RhcnRfdGlt
ZSwgZW5kX3RpbWUsIHN0YXR1cywgdXNlcl9pZCkKICAgICAgICAgICAgVkFMVUVT
ICgkMSwgJDIsICQzLCAkNCwgJDUsICQ2KQogICAgICAgICAgICBSRVRVUk5JTkcg
KmA7CiAgICAgICAgY29uc3QgdmFsdWVzID0gW3RpdGxlLCBkZXNjcmlwdGlvbiwg
c3RhcnRfdGltZSwgZW5kX3RpbWUsIHN0YXR1cyB8fCAnY29uZmlybWVkJywgcmVx
LnVzZXIudXNlcklkXTsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29s
LnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpOwogICAgICAgIHJlcy5zdGF0dXMoMjAxKS5q
c29uKHJlc3VsdC5yb3dzWzBdKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAg
ICAgY29uc29sZS5lcnJvcignRXJybyBhbyBjcmlhciBhZ2VuZGFtZW50bzonLCBl
cnJvcik7CiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vy
cm8gaW50ZXJubyBhbyBjcmlhciBhZ2VuZGFtZW50by4nIH0pOwogICAgfQp9KTsK
CmFwcC5wdXQoJy9hcGkvYXBwb2ludG1lbnRzLzppZCcsIHZlcmlmeVRva2VuLCBh
c3luYyAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJh
bXM7CiAgICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgc3RhcnRfdGltZSwg
ZW5kX3RpbWUgfSA9IHJlcS5ib2R5OwogICAgdHJ5IHsKICAgICAgICBjb25zdCBx
dWVyeSA9IGAKICAgICAgICAgICAgVVBEQVRFIGFwcG9pbnRtZW50cyAKICAgICAg
ICAgICAgU0VUIHRpdGxlID0gJDEsIGRlc2NyaXB0aW9uID0gJDIsIHN0YXJ0X3Rp
bWUgPSAkMywgZW5kX3RpbWUgPSAkNAogICAgICAgICAgICBXSEVSRSBpZCA9ICQ1
IEFORCB1c2VyX2lkID0gJDYgUkVUVVJOSU5HICpgOwogICAgICAgIGNvbnN0IHZh
bHVlcyA9IFt0aXRsZSwgZGVzY3JpcHRpb24sIHN0YXJ0X3RpbWUsIGVuZF90aW1l
LCBpZCwgcmVxLnVzZXIudXNlcklkXTsKICAgICAgICBjb25zdCByZXN1bHQgPSBh
d2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpOwogICAgICAgIGlmIChyZXN1
bHQucm93Q291bnQgPT09IDApIHsKICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0
dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdBZ2VuZGFtZW50byBuw6NvIGVuY29udHJh
ZG8gb3UgbsOjbyBhdXRvcml6YWRvLicgfSk7CiAgICAgICAgfQogICAgICAgIHJl
cy5qc29uKHJlc3VsdC5yb3dzWzBdKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAg
ICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBhdHVhbGl6YXIgYWdlbmRhbWVu
dG86JywgZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJy
b3I6ICdFcnJvIGludGVybm8gYW8gYXR1YWxpemFyIGFnZW5kYW1lbnRvLicgfSk7
CiAgICB9Cn0pOwoKYXBwLmRlbGV0ZSgnL2FwaS9hcHBvaW50bWVudHMvOmlkJywg
dmVyaWZ5VG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4gewogICAgY29uc3QgeyBp
ZCB9ID0gcmVxLnBhcmFtczsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0
ID0gYXdhaXQgcG9vbC5xdWVyeSgnREVMRVRFIEZST00gYXBwb2ludG1lbnRzIFdI
RVJFIGlkID0gJDEgQU5EIHVzZXJfaWQgPSAkMicsIFtpZCwgcmVxLnVzZXIudXNl
cklkXSk7CiAgICAgICAgaWYgKHJlc3VsdC5yb3dDb3VudCA9PT0gMCkgewogICAg
ICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0Fn
ZW5kYW1lbnRvIG7Do28gZW5jb250cmFkbyBvdSBuw6NvIGF1dG9yaXphZG8uJyB9
KTsKICAgICAgICB9CiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNz
YWdlOiAnQWdlbmRhbWVudG8gZGVsZXRhZG8gY29tIHN1Y2Vzc28uJyB9KTsKICAg
IH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBh
byBkZWxldGFyIGFnZW5kYW1lbnRvOicsIGVycm9yKTsKICAgICAgICByZXMuc3Rh
dHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIG5vIHNlcnZpZG9y
LicgfSk7CiAgICB9Cn0pOwoKCi8vIC0tLSBST1RBUyBERSBDSEFUIERFIEVRVUlQ
RSAtLS0KYXBwLmdldCgnL2FwaS90ZWFtLWNoYXQvbWVzc2FnZXMnLCB2ZXJpZnlU
b2tlbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7CiAgICB0cnkgewogICAgICAgIGNv
bnN0IHF1ZXJ5ID0gYAogICAgICAgICAgICBTRUxFQ1QgdG0uKiwgdS5lbWFpbCBh
cyAic2VuZGVyRW1haWwiCiAgICAgICAgICAgIEZST00gdGVhbV9tZXNzYWdlcyB0
bQogICAgICAgICAgICBKT0lOIHVzZXJzIHUgT04gdG0udXNlcl9pZCA9IHUuaWQK
ICAgICAgICAgICAgT1JERVIgQlkgdG0uY3JlYXRlZF9hdCBBU0NgOwogICAgICAg
IGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnkpOwogICAgICAg
IHJlcy5qc29uKHJlc3VsdC5yb3dzKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAg
ICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBidXNjYXIgbWVuc2FnZW5zIGRv
IGNoYXQ6JywgZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsg
ZXJyb3I6ICdFcnJvIGludGVybm8gbm8gc2Vydmlkb3IuJyB9KTsKICAgIH0KfSk7
CgphcHAucG9zdCgnL2FwaS90ZWFtLWNoYXQvbWVzc2FnZXMnLCB2ZXJpZnlUb2tl
biwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7CiAgICBjb25zdCB7IGNvbnRlbnQgfSA9
IHJlcS5ib2R5OwogICAgaWYgKCFjb250ZW50IHx8IGNvbnRlbnQudHJpbSgpID09
PSAnJykgewogICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVy
cm9yOiAnTyBjb250ZcO6ZG8gZGEgbWVuc2FnZW0gbsOjbyBwb2RlIHNlciB2YXpp
by4nIH0pOwogICAgfQogICAgdHJ5IHsKICAgICAgICBjb25zdCBxdWVyeSA9IGAK
ICAgICAgICAgICAgSU5TRVJUIElOVE8gdGVhbV9tZXNzYWdlcyAoY29udGVudCwg
dXNlcl9pZCkKICAgICAgICAgICAgVkFMVUVTICgkMSwgJDIpCiAgICAgICAgICAg
IFJFVFVSTklORyAqYDsKICAgICAgICBjb25zdCB2YWx1ZXMgPSBbY29udGVudCwg
cmVxLnVzZXIudXNlcklkXTsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBw
b29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpOwogICAgICAgIHJlcy5zdGF0dXMoMjAx
KS5qc29uKHJlc3VsdC5yb3dzWzBdKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAg
ICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBlbnZpYXIgbWVuc2FnZW06Jywg
ZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdF
cnJvIGludGVybm8gYW8gZW52aWFyIG1lbnNhZ2VtLicgfSk7CiAgICB9Cn0pOwoK
Ci8vIC0tLSBST1RBUyBERSBBR0VOVEVTIERFIElBIC0tLQphcHAuZ2V0KCcvYXBp
L2FpLWFnZW50cycsIHZlcmlmeVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsK
ICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVy
eSgnU0VMRUNUICogRlJPTSBhaV9hZ2VudHMgV0hFUkUgdXNlcl9pZCA9ICQxIE9S
REVSIEJZIGNyZWF0ZWRfYXQgREVTQycsIFtyZXEudXNlci51c2VySWRdKTsKICAg
ICAgICByZXMuanNvbihyZXN1bHQucm93cyk7CiAgICB9IGNhdGNoIChlcnJvcikg
ewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVzY2FyIGFnZW50ZXM6
JywgZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6
ICdFcnJvIGludGVybm8gbm8gc2Vydmlkb3IuJyB9KTsKICAgIH0KfSk7CgoKLy8g
LS0tIFJPVEFTIERFIElOVEVHUkHDh8ODTyBXSEFUU0FQUCAtLS0KY29uc3QgY3Jl
YXRlRXZvbHV0aW9uQVBJID0gKCkgPT4gYXhpb3MuY3JlYXRlKHsKICAgIGJhc2VV
Ukw6IHByb2Nlc3MuZW52LkVWT0xVVElPTl9BUElfVVJMLAogICAgaGVhZGVyczog
eyAnYXBpa2V5JzogcHJvY2Vzcy5lbnYuRVZPTFVUSU9OX0FQSV9LRVkgfQp9KTsK
CmFwcC5nZXQoJy9hcGkvd2hhdHNhcHAvaW5zdGFuY2VzJywgdmVyaWZ5VG9rZW4s
IGFzeW5jIChyZXEsIHJlcykgPT4gewogICAgdHJ5IHsKICAgICAgICBjb25zdCBx
dWVyeSA9ICdTRUxFQ1QgKiBGUk9NIHdoYXRzYXBwX2luc3RhbmNlcyBXSEVSRSB1
c2VyX2lkID0gJDEgT1JERVIgQlkgY3JlYXRlZF9hdCBBU0MnOwogICAgICAgIGNv
bnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIFtyZXEudXNlci51
c2VySWRdKTsKICAgICAgICByZXMuanNvbihyZXN1bHQucm93cyk7CiAgICB9IGNh
dGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVz
Y2FyIGluc3TDom5jaWFzIGRvIFdoYXRzQXBwOicsIGVycm9yKTsKICAgICAgICBy
ZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIG5vIHNl
cnZpZG9yLicgfSk7CiAgICB9Cn0pOwoKYXBwLnBvc3QoJy9hcGkvd2hhdHNhcHAv
aW5zdGFuY2VzJywgdmVyaWZ5VG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4gewog
ICAgY29uc3QgeyBkaXNwbGF5TmFtZSB9ID0gcmVxLmJvZHk7CiAgICBpZiAoIWRp
c3BsYXlOYW1lIHx8IGRpc3BsYXlOYW1lLnRyaW0oKSA9PT0gJycpIHsKICAgICAg
ICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ08gbm9tZSBk
YSBjb250YSDDqSBvYnJpZ2F0w7NyaW8uJyB9KTsKICAgIH0KICAgIHRyeSB7CiAg
ICAgICAgY29uc3QgaW5zdGFuY2VfbmFtZSA9IGBjcm1fJHtyZXEudXNlci51c2Vy
SWQudG9TdHJpbmcoKS5zbGljZSgwLCA4KX1fJHtEYXRlLm5vdygpfWA7CiAgICAg
ICAgY29uc3QgcXVlcnkgPSBgCiAgICAgICAgICAgIElOU0VSVCBJTlRPIHdoYXRz
YXBwX2luc3RhbmNlcyAoZGlzcGxheV9uYW1lLCBpbnN0YW5jZV9uYW1lLCBzdGF0
dXMsIHVzZXJfaWQpCiAgICAgICAgICAgIFZBTFVFUyAoJDEsICQyLCAnZGlzY29u
bmVjdGVkJywgJDMpCiAgICAgICAgICAgIFJFVFVSTklORyAqYDsKICAgICAgICBj
b25zdCB2YWx1ZXMgPSBbZGlzcGxheU5hbWUsIGluc3RhbmNlX25hbWUsIHJlcS51
c2VyLnVzZXJJZF07CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5x
dWVyeShxdWVyeSwgdmFsdWVzKTsKICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNv
bihyZXN1bHQucm93c1swXSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAg
IGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gY3JpYXIgaW5zdMOibmNpYSBkbyBXaGF0
c0FwcDonLCBlcnJvcik7CiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBl
cnJvcjogJ0Vycm8gaW50ZXJubyBhbyBjcmlhciBpbnN0w6JuY2lhLicgfSk7CiAg
ICB9Cn0pOwoKYXBwLmRlbGV0ZSgnL2FwaS93aGF0c2FwcC9pbnN0YW5jZXMvOmlk
JywgdmVyaWZ5VG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4gewogICAgY29uc3Qg
eyBpZCB9ID0gcmVxLnBhcmFtczsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVz
dWx0ID0gYXdhaXQgcG9vbC5xdWVyeSgnREVMRVRFIEZST00gd2hhdHNhcHBfaW5z
dGFuY2VzIFdIRVJFIGlkID0gJDEgQU5EIHVzZXJfaWQgPSAkMicsIFtpZCwgcmVx
LnVzZXIudXNlcklkXSk7CiAgICAgICAgaWYgKHJlc3VsdC5yb3dDb3VudCA9PT0g
MCkgewogICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBl
cnJvcjogJ0luc3TDom5jaWEgbsOjbyBlbmNvbnRyYWRhIG91IG7Do28gYXV0b3Jp
emFkYS4nIH0pOwogICAgICAgIH0KICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNv
bih7IG1lc3NhZ2U6ICdJbnN0w6JuY2lhIGRlbGV0YWRhIGNvbSBzdWNlc3NvLicg
fSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3Io
J0Vycm8gYW8gZGVsZXRhciBpbnN0w6JuY2lhIGRvIFdoYXRzQXBwOicsIGVycm9y
KTsKICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJybyBp
bnRlcm5vIG5vIHNlcnZpZG9yLicgfSk7CiAgICB9Cn0pOwoKYXBwLnBvc3QoJy9h
cGkvd2hhdHNhcHAvaW5zdGFuY2VzLzppZC9zeW5jLXN0YXR1cycsIHZlcmlmeVRv
a2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IHsgaWQgfSA9IHJl
cS5wYXJhbXM7CiAgICBjb25zdCBldm9sdXRpb25BUEkgPSBjcmVhdGVFdm9sdXRp
b25BUEkoKTsKICAgIHRyeSB7CiAgICAgICAgY29uc3QgaW5zdGFuY2VSZXN1bHQg
PSBhd2FpdCBwb29sLnF1ZXJ5KCJTRUxFQ1QgaW5zdGFuY2VfbmFtZSBGUk9NIHdo
YXRzYXBwX2luc3RhbmNlcyBXSEVSRSBpZCA9ICQxIEFORCB1c2VyX2lkID0gJDIi
LCBbaWQsIHJlcS51c2VyLnVzZXJJZF0pOwogICAgICAgIGNvbnN0IGluc3RhbmNl
TmFtZSA9IGluc3RhbmNlUmVzdWx0LnJvd3NbMF0/Lmluc3RhbmNlX25hbWU7CiAg
ICAgICAgaWYgKCFpbnN0YW5jZU5hbWUpIHJldHVybiByZXMuc3RhdHVzKDQwNCku
anNvbih7IGVycm9yOiAnSW5zdMOibmNpYSBuw6NvIGVuY29udHJhZGEuJyB9KTsK
CiAgICAgICAgYXdhaXQgcG9vbC5xdWVyeSgiVVBEQVRFIHdoYXRzYXBwX2luc3Rh
bmNlcyBTRVQgc3RhdHVzID0gJ2Nvbm5lY3RlZCcgV0hFUkUgaWQgPSAkMSIsIFtp
ZF0pOwoKICAgICAgICBjb25zdCB3ZWJob29rVXJsID0gYGh0dHBzOi8vbmV4dXNm
bG93LmluZm8vYXBpL3dlYmhvb2tzL2V2b2x1dGlvbmA7CiAgICAgICAgY29uc3Qg
d2ViaG9va1BheWxvYWQgPSB7CiAgICAgICAgICAgIHVybDogd2ViaG9va1VybCwK
ICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgd2ViaG9vazog
ewogICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgICAgICAg
IHVybDogd2ViaG9va1VybCwKICAgICAgICAgICAgICAgIGV2ZW50czogWyJNRVNT
QUdFU19VUFNFUlQiLCAiQ09OTkVDVElPTl9VUERBVEUiXSwKICAgICAgICAgICAg
ICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAieC13ZWJob29rLXNl
Y3JldCI6IHByb2Nlc3MuZW52LkVWT0xVVElPTl9XRUJIT09LX1NFQ1JFVAogICAg
ICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAg
YXdhaXQgZXZvbHV0aW9uQVBJLnBvc3QoYC93ZWJob29rL3NldC8ke2luc3RhbmNl
TmFtZX1gLCB3ZWJob29rUGF5bG9hZCk7CgogICAgICAgIHJlcy5zdGF0dXMoMjAw
KS5qc29uKHsgbWVzc2FnZTogJ1N0YXR1cyBzaW5jcm9uaXphZG8gZSB3ZWJob29r
IGNvbmZpZ3VyYWRvLicgfSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAg
IGNvbnNvbGUuZXJyb3IoIkVycm8gYW8gc2luY3Jvbml6YXIgc3RhdHVzIGUgY29u
ZmlndXJhciB3ZWJob29rOiIsIGVycm9yLnJlc3BvbnNlPy5kYXRhIHx8IGVycm9y
Lm1lc3NhZ2UpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6
ICdFcnJvIGFvIHNpbmNyb25pemFyIHN0YXR1cy4nIH0pOwogICAgfQp9KTsKCmFw
cC5wb3N0KCcvYXBpL3doYXRzYXBwL3Nlc3Npb24nLCB2ZXJpZnlUb2tlbiwgYXN5
bmMgKHJlcSwgcmVzKSA9PiB7CiAgICBjb25zdCB7IGFjdGlvbiwgaW5zdGFuY2VO
YW1lIH0gPSByZXEuYm9keTsKICAgIGNvbnN0IGV2b2x1dGlvbkFQSSA9IGNyZWF0
ZUV2b2x1dGlvbkFQSSgpOwogICAgdHJ5IHsKICAgICAgICBsZXQgcmVzcG9uc2U7
CiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHsKICAgICAgICAgICAgY2FzZSAnZ2Vu
ZXJhdGVfcXInOgogICAgICAgICAgICAgICAgYXdhaXQgZXZvbHV0aW9uQVBJLnBv
c3QoYC9pbnN0YW5jZS9jcmVhdGVgLCB7CiAgICAgICAgICAgICAgICAgICAgaW5z
dGFuY2VOYW1lLAogICAgICAgICAgICAgICAgICAgIHFyY29kZTogdHJ1ZSwKICAg
ICAgICAgICAgICAgICAgICBpbnRlZ3JhdGlvbjogIldIQVRTQVBQLUJBSUxFWVMi
CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0g
YXdhaXQgZXZvbHV0aW9uQVBJLmdldChgL2luc3RhbmNlL2Nvbm5lY3QvJHtpbnN0
YW5jZU5hbWV9YCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAg
Y2FzZSAnc3RhdHVzJzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQg
ZXZvbHV0aW9uQVBJLmdldChgL2luc3RhbmNlL2Nvbm5lY3Rpb25TdGF0ZS8ke2lu
c3RhbmNlTmFtZX1gKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAg
ICBjYXNlICdsb2dvdXQnOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2Fp
dCBldm9sdXRpb25BUEkuZGVsZXRlKGAvaW5zdGFuY2UvbG9nb3V0LyR7aW5zdGFu
Y2VOYW1lfWApOwogICAgICAgICAgICAgICAgYXdhaXQgcG9vbC5xdWVyeSgiVVBE
QVRFIHdoYXRzYXBwX2luc3RhbmNlcyBTRVQgc3RhdHVzID0gJ2Rpc2Nvbm5lY3Rl
ZCcgV0hFUkUgaW5zdGFuY2VfbmFtZSA9ICQxIEFORCB1c2VyX2lkID0gJDIiLCBb
aW5zdGFuY2VOYW1lLCByZXEudXNlci51c2VySWRdKTsKICAgICAgICAgICAgICAg
IGJyZWFrOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0
dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdBw6fDo28gZGVzY29u
aGVjaWRhLicgfSk7CiAgICAgICAgfQogICAgICAgIHJlcy5qc29uKHJlc3BvbnNl
LmRhdGEpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVy
cm9yKGBFcnJvIG5hIGHDp8OjbyAnJHthY3Rpb259JyBkYSBFdm9sdXRpb24gQVBJ
OmAsIGVycm9yLnJlc3BvbnNlPy5kYXRhIHx8IGVycm9yLm1lc3NhZ2UpOwogICAg
ICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsKICAgICAgICAgICAgZXJyb3I6ICdG
YWxoYSBuYSBjb211bmljYcOnw6NvIGNvbSBhIEFQSSBkbyBXaGF0c0FwcC4nLAog
ICAgICAgICAgICBkZXRhaWxzOiBlcnJvci5yZXNwb25zZSA/IGVycm9yLnJlc3Bv
bnNlLmRhdGEgOiBlcnJvci5tZXNzYWdlCiAgICAgICAgfSk7CiAgICB9Cn0pOwoK
Ly8gLS0tIFJPVEFTIERFIEFURU5ESU1FTlRPIChXSEFUU0FQUCkgLS0tCmFwcC5n
ZXQoJy9hcGkvd2hhdHNhcHAvY2hhdHMnLCB2ZXJpZnlUb2tlbiwgYXN5bmMgKHJl
cSwgcmVzKSA9PiB7CiAgICBjb25zdCB7IGluc3RhbmNlTmFtZSB9ID0gcmVxLnF1
ZXJ5OwogICAgaWYgKCFpbnN0YW5jZU5hbWUpIHJldHVybiByZXMuc3RhdHVzKDQw
MCkuanNvbih7IGVycm9yOiAiTm9tZSBkYSBpbnN0w6JuY2lhIMOpIG9icmlnYXTD
s3JpbyIgfSk7CiAgICB0cnkgewogICAgICAgIGNvbnN0IHF1ZXJ5ID0gYAogICAg
ICAgICAgICBTRUxFQ1QgKiBGUk9NIHdoYXRzYXBwX2NoYXRzIAogICAgICAgICAg
ICBXSEVSRSB1c2VyX2lkID0gJDEgQU5EIGluc3RhbmNlX25hbWUgPSAkMgogICAg
ICAgICAgICBPUkRFUiBCWSB1cGRhdGVkX2F0IERFU0NgOwogICAgICAgIGNvbnN0
IHJlc3VsdCA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIFtyZXEudXNlci51c2Vy
SWQsIGluc3RhbmNlTmFtZV0pOwogICAgICAgIHJlcy5qc29uKHJlc3VsdC5yb3dz
KTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign
RXJybyBhbyBidXNjYXIgY2hhdHMgZG8gV2hhdHNBcHA6JywgZXJyb3IpOwogICAg
ICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJvIGludGVybm8g
bm8gc2Vydmlkb3IuJyB9KTsKICAgIH0KfSk7CgphcHAuZ2V0KCcvYXBpL3doYXRz
YXBwL21lc3NhZ2VzJywgdmVyaWZ5VG9rZW4sIGFzeW5jIChyZXEsIHJlcykgPT4g
ewogICAgY29uc3QgeyBpbnN0YW5jZU5hbWUsIGNoYXRfamlkIH0gPSByZXEucXVl
cnk7IC8vIENvcnJpZ2lkbyBwYXJhIHF1ZXJ5IHBhcmFtcwogICAgdHJ5IHsKICAg
ICAgICBjb25zdCBxdWVyeSA9IGAKICAgICAgICAgICAgU0VMRUNUICogRlJPTSB3
aGF0c2FwcF9tZXNzYWdlcwogICAgICAgICAgICBXSEVSRSB1c2VyX2lkID0gJDEg
QU5EIGluc3RhbmNlX25hbWUgPSAkMiBBTkQgY2hhdF9qaWQgPSAkMwogICAgICAg
ICAgICBPUkRFUiBCWSB0aW1lc3RhbXAgQVNDYDsKICAgICAgICBjb25zdCByZXN1
bHQgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCBbcmVxLnVzZXIudXNlcklkLCBp
bnN0YW5jZU5hbWUsIGNoYXRfamlkXSk7CiAgICAgICAgcmVzLmpzb24ocmVzdWx0
LnJvd3MpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVy
cm9yKCdFcnJvIGFvIGJ1c2NhciBtZW5zYWdlbnMgZG8gV2hhdHNBcHA6JywgZXJy
b3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdFcnJv
IGludGVybm8gbm8gc2Vydmlkb3IuJyB9KTsKICAgIH0KfSk7CgphcHAucG9zdCgn
L2FwaS93aGF0c2FwcC9zZW5kLW1lc3NhZ2UnLCB2ZXJpZnlUb2tlbiwgYXN5bmMg
KHJlcSwgcmVzKSA9PiB7CiAgICBjb25zdCB7IGluc3RhbmNlTmFtZSwgdG8sIHRl
eHQgfSA9IHJlcS5ib2R5OwogICAgY29uc3QgZXZvbHV0aW9uQVBJID0gY3JlYXRl
RXZvbHV0aW9uQVBJKCk7CiAgICB0cnkgewogICAgICAgIGNvbnN0IG51bWJlciA9
IHRvLnNwbGl0KCdAJylbMF07CiAgICAgICAgYXdhaXQgZXZvbHV0aW9uQVBJLnBv
c3QoYC9tZXNzYWdlL3NlbmRUZXh0LyR7aW5zdGFuY2VOYW1lfWAsIHsgbnVtYmVy
LCB0ZXh0TWVzc2FnZTogeyB0ZXh0IH0gfSk7CiAgICAgICAgcmVzLnN0YXR1cygy
MDApLmpzb24oeyBtZXNzYWdlOiAnTWVuc2FnZW0gZW52aWFkYS4nIH0pOwogICAg
fSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFv
IGVudmlhciBtZW5zYWdlbSB2aWEgRXZvbHV0aW9uIEFQSTonLCBlcnJvci5yZXNw
b25zZT8uZGF0YSB8fCBlcnJvci5tZXNzYWdlKTsKICAgICAgICByZXMuc3RhdHVz
KDUwMCkuanNvbih7IGVycm9yOiAnRmFsaGEgYW8gZW52aWFyIG1lbnNhZ2VtLicg
fSk7CiAgICB9Cn0pOwoKYXBwLnBhdGNoKCcvYXBpL3doYXRzYXBwL2NoYXRzLzpp
ZCcsIHZlcmlmeVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0
IHsgaWQgfSA9IHJlcS5wYXJhbXM7CiAgICBjb25zdCB1cGRhdGVzID0gcmVxLmJv
ZHk7CiAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh1cGRhdGVzKTsKICAg
IGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXModXBkYXRlcyk7CiAgICBpZiAo
ZmllbGRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiByZXMuc3RhdHVz
KDQwMCkuanNvbih7IGVycm9yOiAnTmVuaHVtIGNhbXBvIHBhcmEgYXR1YWxpemFy
LicgfSk7CiAgICB9CiAgICBjb25zdCBzZXRDbGF1c2UgPSBmaWVsZHMubWFwKChm
aWVsZCwgaW5kZXgpID0+IGAiJHtmaWVsZH0iID0gJCR7aW5kZXggKyAxfWApLmpv
aW4oJywgJyk7CiAgICB0cnkgewogICAgICAgIGNvbnN0IHF1ZXJ5ID0gYFVQREFU
RSB3aGF0c2FwcF9jaGF0cyBTRVQgJHtzZXRDbGF1c2V9IFdIRVJFIGlkID0gJCR7
ZmllbGRzLmxlbmd0aCArIDF9IEFORCB1c2VyX2lkID0gJCR7ZmllbGRzLmxlbmd0
aCArIDJ9IFJFVFVSTklORyAqYDsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2Fp
dCBwb29sLnF1ZXJ5KHF1ZXJ5LCBbLi4udmFsdWVzLCBpZCwgcmVxLnVzZXIudXNl
cklkXSk7CiAgICAgICAgcmVzLmpzb24ocmVzdWx0LnJvd3NbMF0pOwogICAgfSBj
YXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGF0
dWFsaXphciBjaGF0OicsIGVycm9yKTsKICAgICAgICByZXMuc3RhdHVzKDUwMCku
anNvbih7IGVycm9yOiAnRXJybyBhbyBhdHVhbGl6YXIgY2hhdC4nIH0pOwogICAg
fQp9KTsKCmFwcC5wYXRjaCgnL2FwaS93aGF0c2FwcC9jaGF0cy86aWQvcmVhZCcs
IHZlcmlmeVRva2VuLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IHsg
aWQgfSA9IHJlcS5wYXJhbXM7CiAgICB0cnkgewogICAgICAgIGF3YWl0IHBvb2wu
cXVlcnkoIlVQREFURSB3aGF0c2FwcF9jaGF0cyBTRVQgdW5yZWFkX2NvdW50ID0g
MCBXSEVSRSBpZCA9ICQxIEFORCB1c2VyX2lkID0gJDIiLCBbaWQsIHJlcS51c2Vy
LnVzZXJJZF0pOwogICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2Fn
ZTogJ0NoYXQgbWFyY2FkbyBjb21vIGxpZG8uJyB9KTsKICAgIH0gY2F0Y2ggKGVy
cm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBtYXJjYXIgY2hh
dCBjb21vIGxpZG86JywgZXJyb3IpOwogICAgICAgIHJlcy5zdGF0dXMoNTAwKS5q
c29uKHsgZXJyb3I6ICdFcnJvIGFvIG1hcmNhciBjaGF0LicgfSk7CiAgICB9Cn0p
OwoKCi8vIC0tLSBST1RBIERFIFdFQkhPT0sgUEFSQSBXSEFUU0FQUCAoVkVSU8OD
TyBDT1JSSUdJREEgRSBNQUlTIFJPQlVTVEEpIC0tLQoKLy8gRnVuw6fDo28gaGVs
cGVyIHBhcmEgZXh0cmFpciBvIHRleHRvIGRhIG1lbnNhZ2VtLCBiYXNlYWRhIG5h
IHN1YSBmdW7Dp8OjbyBkbyBTdXBhYmFzZQpmdW5jdGlvbiBwaWNrVGV4dChtKSB7
CiAgICB0cnkgewogICAgICAgIHJldHVybiBtPy5tZXNzYWdlPy5jb252ZXJzYXRp
b24gfHwgbT8ubWVzc2FnZT8uZXh0ZW5kZWRUZXh0TWVzc2FnZT8udGV4dCB8fAog
ICAgICAgICAgICBtPy5tZXNzYWdlPy5lcGhlbWVyYWxNZXNzYWdlPy5tZXNzYWdl
Py5jb252ZXJzYXRpb24gfHwKICAgICAgICAgICAgbT8ubWVzc2FnZT8uZXBoZW1l
cmFsTWVzc2FnZT8ubWVzc2FnZT8uZXh0ZW5kZWRUZXh0TWVzc2FnZT8udGV4dCB8
fAogICAgICAgICAgICBtPy5tZXNzYWdlPy5pbWFnZU1lc3NhZ2U/LmNhcHRpb24g
fHwgbT8ubWVzc2FnZT8udmlkZW9NZXNzYWdlPy5jYXB0aW9uIHx8CiAgICAgICAg
ICAgIG0/Lm1lc3NhZ2U/LmRvY3VtZW50V2l0aENhcHRpb25NZXNzYWdlPy5tZXNz
YWdlPy5kb2N1bWVudE1lc3NhZ2U/LmNhcHRpb24gfHwKICAgICAgICAgICAgbT8u
Ym9keSB8fCBtPy50ZXh0IHx8ICIiOwogICAgfSBjYXRjaCB7CiAgICAgICAgcmV0
dXJuICIiOwogICAgfQp9CgphcHAucG9zdCgnL2FwaS93ZWJob29rcy9ldm9sdXRp
b24nLCBhc3luYyAocmVxLCByZXMpID0+IHsKICAgIGNvbnN0IHdlYmhvb2tEYXRh
ID0gcmVxLmJvZHk7CiAgICBjb25zdCBpbnN0YW5jZSA9IHdlYmhvb2tEYXRhPy5p
bnN0YW5jZTsKICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcnNbJ3gtd2ViaG9v
ay1zZWNyZXQnXTsKCiAgICBpZiAocHJvY2Vzcy5lbnYuRVZPTFVUSU9OX1dFQkhP
T0tfU0VDUkVUICYmIHRva2VuICE9PSBwcm9jZXNzLmVudi5FVk9MVVRJT05fV0VC
SE9PS19TRUNSRVQpIHsKICAgICAgICBjb25zb2xlLndhcm4oYFdlYmhvb2sgcmVj
ZWJpZG8gY29tIHRva2VuIGludsOhbGlkbyBwYXJhIGluc3TDom5jaWEgJHtpbnN0
YW5jZX1gKTsKICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ1Vu
YXV0aG9yaXplZCcpOwogICAgfQoKICAgIGNvbnNvbGUubG9nKGAtLS0gV0VCSE9P
SyBSRUNFQklETyAoJHt3ZWJob29rRGF0YS5ldmVudH0pIFBBUkEgSU5TVMOCTkNJ
QTogJHtpbnN0YW5jZX0gLS0tYCk7CiAgICBjb25zb2xlLmxvZygnREFET1MgQ09N
UExFVE9TOicsIEpTT04uc3RyaW5naWZ5KHdlYmhvb2tEYXRhLCBudWxsLCAyKSk7
CgogICAgaWYgKHdlYmhvb2tEYXRhLmV2ZW50ID09PSAnY29ubmVjdGlvbi51cGRh
dGUnKSB7CiAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gd2ViaG9va0RhdGEuZGF0
YTsKICAgICAgICBjb25zdCBzdGF0dXMgPSBzdGF0ZSA9PT0gJ29wZW4nID8gJ2Nv
bm5lY3RlZCcgOiAoc3RhdGUgPT09ICdjbG9zZScgPyAnZGlzY29ubmVjdGVkJyA6
ICdxcicpOwoKICAgICAgICBjb25zdCBkYkNsaWVudCA9IGF3YWl0IHBvb2wuY29u
bmVjdCgpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGF3YWl0IGRiQ2xpZW50
LnF1ZXJ5KCdCRUdJTicpOwogICAgICAgICAgICBhd2FpdCBkYkNsaWVudC5xdWVy
eSgnVVBEQVRFIHdoYXRzYXBwX2luc3RhbmNlcyBTRVQgc3RhdHVzID0gJDEgV0hF
UkUgaW5zdGFuY2VfbmFtZSA9ICQyJywgW3N0YXR1cywgaW5zdGFuY2VdKTsKICAg
ICAgICAgICAgYXdhaXQgZGJDbGllbnQucXVlcnkoJ0NPTU1JVCcpOwogICAgICAg
ICAgICBjb25zb2xlLmxvZyhgU3RhdHVzIGRhIGluc3TDom5jaWEgJHtpbnN0YW5j
ZX0gYXR1YWxpemFkbyBwYXJhOiAke3N0YXR1c31gKTsKICAgICAgICB9IGNhdGNo
IChlcnJvcikgewogICAgICAgICAgICBhd2FpdCBkYkNsaWVudC5xdWVyeSgnUk9M
TEJBQ0snKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignRVJSTyBBTyBBVFVB
TElaQVIgU1RBVFVTIFZJQSBXRUJIT09LOicsIGVycm9yKTsKICAgICAgICB9IGZp
bmFsbHkgewogICAgICAgICAgICBkYkNsaWVudC5yZWxlYXNlKCk7CiAgICAgICAg
fQogICAgfSBlbHNlIGlmICh3ZWJob29rRGF0YS5ldmVudCA9PT0gJ21lc3NhZ2Vz
LnVwc2VydCcgJiYgd2ViaG9va0RhdGEuZGF0YT8ua2V5Py5mcm9tTWUgPT09IGZh
bHNlKSB7CiAgICAgICAgY29uc3QgbWVzc2FnZURhdGEgPSB3ZWJob29rRGF0YS5k
YXRhOwogICAgICAgIGNvbnN0IGRiQ2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0
KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VSZXN1
bHQgPSBhd2FpdCBkYkNsaWVudC5xdWVyeSgnU0VMRUNUIHVzZXJfaWQgRlJPTSB3
aGF0c2FwcF9pbnN0YW5jZXMgV0hFUkUgaW5zdGFuY2VfbmFtZSA9ICQxJywgW2lu
c3RhbmNlXSk7CiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGluc3RhbmNlUmVz
dWx0LnJvd3NbMF0/LnVzZXJfaWQ7CiAgICAgICAgICAgIGlmICghdXNlcklkKSB7
CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBXZWJob29rIGlnbm9yYWRv
OiBJbnN0w6JuY2lhICIke2luc3RhbmNlfSIgbsOjbyBlbmNvbnRyYWRhLmApOwog
ICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdPSy4g
SW5zdGFuY2Ugbm90IGZvdW5kLicpOwogICAgICAgICAgICB9CgogICAgICAgICAg
ICBjb25zdCBjaGF0X2ppZCA9IG1lc3NhZ2VEYXRhLmtleS5yZW1vdGVKaWQ7CiAg
ICAgICAgICAgIGNvbnN0IGNvbnRhY3RfbmFtZSA9IG1lc3NhZ2VEYXRhLnB1c2hO
YW1lIHx8IGBDb250YXRvICR7Y2hhdF9qaWQuc3BsaXQoJ0AnKVswXX1gOwogICAg
ICAgICAgICBjb25zdCB0ZXh0ID0gcGlja1RleHQobWVzc2FnZURhdGEpOyAvLyBV
c2FuZG8gYSBmdW7Dp8OjbyBoZWxwZXIKICAgICAgICAgICAgY29uc3QgbWVzc2Fn
ZV9pZCA9IG1lc3NhZ2VEYXRhLmtleS5pZCB8fCByYW5kb21VVUlEKCk7CiAgICAg
ICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG1lc3NhZ2VEYXRhLm1lc3NhZ2VUaW1l
c3RhbXA7CgogICAgICAgICAgICBhd2FpdCBkYkNsaWVudC5xdWVyeSgnQkVHSU4n
KTsKCiAgICAgICAgICAgIGNvbnN0IHVwc2VydENoYXRRdWVyeSA9IGAKICAgICAg
ICAgICAgICAgIElOU0VSVCBJTlRPIHdoYXRzYXBwX2NoYXRzICh1c2VyX2lkLCBp
bnN0YW5jZV9uYW1lLCBqaWQsIHRpdGxlLCB1bnJlYWRfY291bnQsIGxhc3RfbWVz
c2FnZSwgdXBkYXRlZF9hdCkKICAgICAgICAgICAgICAgIFZBTFVFUyAoJDEsICQy
LCAkMywgJDQsIDEsICQ1LCBOT1coKSkKICAgICAgICAgICAgICAgIE9OIENPTkZM
SUNUICh1c2VyX2lkLCBpbnN0YW5jZV9uYW1lLCBqaWQpIAogICAgICAgICAgICAg
ICAgRE8gVVBEQVRFIFNFVCAKICAgICAgICAgICAgICAgICAgICB1bnJlYWRfY291
bnQgPSB3aGF0c2FwcF9jaGF0cy51bnJlYWRfY291bnQgKyAxLAogICAgICAgICAg
ICAgICAgICAgIGxhc3RfbWVzc2FnZSA9IEVYQ0xVREVELmxhc3RfbWVzc2FnZSwK
ICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IEVYQ0xVREVELnRpdGxlLAogICAg
ICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQgPSBOT1coKTsKICAgICAgICAgICAg
YDsKICAgICAgICAgICAgYXdhaXQgZGJDbGllbnQucXVlcnkodXBzZXJ0Q2hhdFF1
ZXJ5LCBbdXNlcklkLCBpbnN0YW5jZSwgY2hhdF9qaWQsIGNvbnRhY3RfbmFtZSwg
dGV4dF0pOwoKICAgICAgICAgICAgY29uc3QgaW5zZXJ0TWVzc2FnZVF1ZXJ5ID0g
YAogICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gd2hhdHNhcHBfbWVzc2FnZXMg
KHVzZXJfaWQsIGluc3RhbmNlX25hbWUsIGNoYXRfamlkLCBtZXNzYWdlX2lkLCBm
cm9tX21lLCB0ZXh0LCB0aW1lc3RhbXAsIHJhdykKICAgICAgICAgICAgICAgIFZB
TFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgdG9fdGltZXN0YW1wKCQ3KSwg
JDgpYDsKICAgICAgICAgICAgYXdhaXQgZGJDbGllbnQucXVlcnkoaW5zZXJ0TWVz
c2FnZVF1ZXJ5LCBbCiAgICAgICAgICAgICAgICB1c2VySWQsIGluc3RhbmNlLCBj
aGF0X2ppZCwgbWVzc2FnZV9pZCwKICAgICAgICAgICAgICAgIGZhbHNlLCB0ZXh0
LCB0aW1lc3RhbXAsIHdlYmhvb2tEYXRhCiAgICAgICAgICAgIF0pOwoKICAgICAg
ICAgICAgYXdhaXQgZGJDbGllbnQucXVlcnkoJ0NPTU1JVCcpOwogICAgICAgICAg
ICBjb25zb2xlLmxvZyhgTWVuc2FnZW0gZGUgJHtjb250YWN0X25hbWV9IHNhbHZh
IGNvbSBzdWNlc3NvIHBhcmEgbyB1c3XDoXJpbyAke3VzZXJJZH1gKTsKCiAgICAg
ICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgYXdhaXQgZGJDbGllbnQu
cXVlcnkoJ1JPTExCQUNLJyk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VS
Uk8gQU8gUFJPQ0VTU0FSIFdFQkhPT0s6JywgZXJyb3IpOwogICAgICAgIH0gZmlu
YWxseSB7CiAgICAgICAgICAgIGRiQ2xpZW50LnJlbGVhc2UoKTsKICAgICAgICB9
CiAgICB9CiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgnT0snKTsKfSk7CgoKYXBw
Lmxpc3RlbihQT1JULCAoKSA9PiB7CiAgICBjb25zb2xlLmxvZyhgU2Vydmlkb3Ig
cm9kYW5kbyBuYSBwb3J0YSAke1BPUlR9YCk7Cn0pOw==
-----END CERTIFICATE-----
